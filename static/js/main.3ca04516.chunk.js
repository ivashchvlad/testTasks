(this.webpackJsonpaviasalestest=this.webpackJsonpaviasalestest||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/planeicon.0c089234.svg"},18:function(e,t,a){e.exports=a.p+"static/media/s7logo.35aae663.svg"},19:function(e,t,a){e.exports=a(44)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(16),l=a.n(s),r=(a(24),a(5)),o=a(2),i=a(17),m=a.n(i),u=(a(25),a(6)),h=a.n(u),p=a(18),E=a.n(p);a(43);var d=function(e){var t=e.tiket;return c.a.createElement("div",{className:"ticket"},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"price"},t.price," P"),c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:E.a,className:"logo-img",alt:"logo"}))),c.a.createElement("div",{className:"body"},t.segments.map((function(e,t){return c.a.createElement("div",{className:"segment",key:t},c.a.createElement("div",{className:"details"},c.a.createElement("h1",null,e.origin,"-",e.destination),c.a.createElement("h2",null,function(e,t){var a=new Date(e),n=a.getHours()+":"+a.getMinutes()+"-";return n+=(a=new Date(a.getTime()+6e4*t)).getHours()+":"+a.getMinutes()}(e.date,e.duration))),c.a.createElement("div",{className:"details"},c.a.createElement("h1",null,"\u0412 \u043f\u0443\u0442\u0438"),c.a.createElement("h2",null,function(e){var t="";return Math.floor(e/60)&&(t+=Math.floor(e/60)+"\u0447 "),t+=e%60+"\u043c"}(e.duration))),c.a.createElement("div",{className:"details"},c.a.createElement("h1",null,"".concat(e.stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434").concat((a=e.stops.length)%10===1?"\u043a\u0430":a>0&&a<5?"\u043a\u0438":"\u043e\u043a")),c.a.createElement("h2",null,e.stops.length?e.stops.join(", "):"--")));var a}))))};var g=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],p=i[1],E=Object(n.useState)([]),g=Object(o.a)(E,2),b=g[0],f=g[1],k=Object(n.useState)([!1,!1,!1,!1,!0]),v=Object(o.a)(k,2),N=v[0],j=v[1],O=Object(n.useState)("cheap"),w=Object(o.a)(O,2),x=w[0],y=w[1];Object(n.useEffect)((function(){h.a.get("https://front-test.beta.aviasales.ru/search").then((function(e){s(e.data.searchId)}))}),[]),Object(n.useEffect)((function(){u||h.a.get("https://front-test.beta.aviasales.ru/tickets",{params:{searchId:a}}).then((function(e){f((function(t){return[].concat(Object(r.a)(t),Object(r.a)(e.data.tickets))})),p((function(t){return e.data.stop}))})).catch((function(e){console.log(e),p(!1)}))}),[a,u]);var C=function(e){var t=Object(r.a)(N);switch(e.target.name){case"all":t[4]?t[4]=!1:(t.fill(!1,0),t[4]=!0);break;case"none":t[4]&&(t[4]=!1),t[0]=!t[0];break;case"one":t[4]&&(t[4]=!1),t[1]=!t[1];break;case"two":t[4]&&(t[4]=!1),t[2]=!t[2];break;case"three":t[4]&&(t[4]=!1),t[3]=!t[3]}j(t)};return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"})),c.a.createElement("main",{className:"App-main"},c.a.createElement("div",{className:"peresadki"},c.a.createElement("h1",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),c.a.createElement("div",{className:"filters"},c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox-container"},"\u0412\u0441\u0435",c.a.createElement("input",{type:"checkbox",name:"all",checked:N[4],onChange:C}),c.a.createElement("span",{className:"checkmark"}))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox-container"},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",c.a.createElement("input",{type:"checkbox",name:"none",checked:N[0],onChange:C}),c.a.createElement("span",{className:"checkmark"}))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox-container"},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",c.a.createElement("input",{type:"checkbox",name:"one",checked:N[1],onChange:C}),c.a.createElement("span",{className:"checkmark"}))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox-container"},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",c.a.createElement("input",{type:"checkbox",name:"two",checked:N[2],onChange:C}),c.a.createElement("span",{className:"checkmark"}))),c.a.createElement("p",null,c.a.createElement("label",{className:"checkbox-container"},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",c.a.createElement("input",{type:"checkbox",name:"three",checked:N[3],onChange:C}),c.a.createElement("span",{className:"checkmark"}))))),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"top-buttons"},c.a.createElement("button",{className:"left-button "+("cheap"===x&&"active-button"),onClick:function(){y("cheap")}},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),c.a.createElement("button",{className:"right-button "+("fast"===x&&"active-button"),onClick:function(){y("fast")}},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")),c.a.createElement("div",{className:"tickets"},b.length?b.sort((function(e,t){return"cheap"===x?e.price-t.price:"fast"===x?e.segments[0].duration+e.segments[1].duration-(t.segments[0].duration+t.segments[1].duration):void 0})).filter((function(e){if(N[4])return!0;for(var t=1;t<N.length;t++)if(N[t]&&e.segments[0].stops.length===t&&e.segments[1].stops.length===t)return!0;return!1})).map((function(e,t){return c.a.createElement(d,{tiket:e,key:t})})):"Loading..."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.3ca04516.chunk.js.map